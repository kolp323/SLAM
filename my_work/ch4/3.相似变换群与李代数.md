## 相似变换群与李代数
相似变换群 Sim(3)是在单目视觉中使用的，对应的李代数是sim(3)。双目 SLAM 或 RGB-D SLAM 没有用到。  

如果在单目SLAM中使用 SE(3) 表示位姿，那么由于尺度不确定性与尺度漂移，整个 SLAM 过程中的尺度会发生变化，这在 SE(3) 中未能体现出来。因此，在单目情况下一般会显式地把**尺度因子 s** 表达出来。即对于位于空间的点p，在相机坐标系下要经过一个相似变换，而非欧氏变换：  

$p' = \begin{bmatrix} sR & t \\ 0^{\mathrm{T}} & 1 \end{bmatrix} p = sRp + t$  

尺度s同时作用在p的3个坐标之上，对p进行了一次缩放。  
相似变换亦对矩阵乘法构成群，称为相似变换群 Sim(3)：

$\mathrm{Sim}(3) = \left\{ S = \begin{bmatrix}
s\boldsymbol{R} & \boldsymbol{t} \\
\boldsymbol{0}^{\mathrm{T}} & 1
\end{bmatrix} \in \mathbb{R}^{4 \times 4} \right\}$  

同样地，Sim(3) 也有对应的李代数、指数映射、对数映射等。李代数 sim(3) 元素是一个7维向量ζ。它的前 6 维与 se(3) 相同，最后多了一项 σ。 

$\mathfrak{sim}(3) = \left\{ \boldsymbol{\zeta} \mid \boldsymbol{\zeta} = \begin{bmatrix} \boldsymbol{\rho} \\ \boldsymbol{\phi} \\ \sigma \end{bmatrix} \in \mathbb{R}^7, \boldsymbol{\zeta}^{\wedge} = \begin{bmatrix} \sigma \boldsymbol{I} + \boldsymbol{\phi}^{\wedge} & \boldsymbol{\rho} \\ \boldsymbol{0}^T & 0 \end{bmatrix} \in \mathbb{R}^{4 \times 4} \right\}$  

关联Sim(3)和sim(3)的仍是指数映射和对数映射。指数映射为：  

$\exp(\zeta^{\wedge}) = 
\begin{bmatrix}
e^{\sigma} \exp(\phi^{\wedge}) & J_s \rho \\
0^T & 1
\end{bmatrix}$  

通过指数映射，能够找到李代数与李群的关系。对于李代数ζ，它与李群的对应关系为：  
$s = e^{\sigma}, \quad \boldsymbol{R} = \exp(\phi^{\wedge}), \quad t = J_{s}\rho$  

$\boldsymbol{J}_s = \frac{\mathrm{e}^{\sigma} - 1}{\sigma} \boldsymbol{I} + \frac{\sigma \mathrm{e}^{\sigma} \sin \theta + (1 - \mathrm{e}^{\sigma} \cos \theta) \theta}{\sigma^2 + \theta^2} \boldsymbol{a}^{\wedge} + \left( \frac{\mathrm{e}^{\sigma} - 1}{\sigma} - \frac{(\mathrm{e}^{\sigma} \cos \theta - 1) \sigma + (\mathrm{e}^{\sigma} \sin \theta) \theta}{\sigma^2 + \theta^2} \right) \boldsymbol{a}^{\wedge} \boldsymbol{a}^{\wedge}$

旋转部分和 SO(3) 是一致的。  
平移部分，在 se(3) 中需要乘一个雅可比J，而相似变换的雅可比更复杂一些。  
对于尺度因子，可以看到李群中的 s 即为李代数中 σ 的指数函数。  

设给予Sp左侧一个小扰动 exp(ζ∧)，并求Sp对于扰动的导数。因为Sp 是 4 维的齐次坐标，ζ 是 7 维向量，该导数应该是 4 × 7 的雅可比。